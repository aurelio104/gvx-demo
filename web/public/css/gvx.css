:root{
  color-scheme: dark;
  --bg:#020617;
  --card:rgba(15,23,42,0.96);
  --border:rgba(148,163,184,0.45);
  --accent:#38bdf8;
  --accent2:#a855f7;
  --ok:#22c55e;
  --err:#fb7185;
  --overlay:rgba(15,23,42,0.9);
}

*{box-sizing:border-box;}

body{
  margin:0;
  min-height:100vh;
  font-family:-apple-system,BlinkMacSystemFont,"SF Pro Text",system-ui,sans-serif;
  color:#e5e7eb;
}

/* ========= FONDOS POR PÁGINA ========= */

body.page-index{
  background:radial-gradient(circle at top,#0f172a 0,#020617 50%,#000 100%);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
}

body.page-admin{
  background:radial-gradient(circle at top,#1e293b 0,#020617 55%,#000 100%);
  display:flex;
  align-items:center;
  justify-content:center;
  padding:16px;
}

body.page-screen{
  background:#000;
}

/* ========= LAYOUT GENERAL ========= */

.app{
  width:100%;
  max-width:1040px;
}

header{
  margin-bottom:12px;
}
header h1{
  margin:0;
  font-size:22px;
  display:flex;
  align-items:center;
  gap:8px;
}
header h1 span.logo{
  width:28px;
  height:28px;
  border-radius:999px;
  background:linear-gradient(135deg,#38bdf8,#a855f7);
  display:inline-flex;
  align-items:center;
  justify-content:center;
  font-weight:700;
  color:#020617;
}
header p{
  margin:4px 0 0;
  font-size:13px;
  opacity:.75;
}

/* Card base para index & admin */
.card{
  background:var(--card);
  border-radius:24px;
  border:1px solid var(--border);
  padding:16px 18px 18px;
  box-shadow:0 22px 60px rgba(0,0,0,0.65);
  backdrop-filter:blur(24px) saturate(160%);
}

/* Card tamaño admin */
body.page-admin .card{
  width:100%;
  max-width:720px;
}

/* ========= TEXTOS ========= */

h1{
  margin:0 0 4px;
  font-size:20px;
}

.sub{
  margin:0 0 16px;
  font-size:12px;
  opacity:.75;
}

/* ========= GRID POR PÁGINA ========= */

body.page-index .grid{
  display:grid;
  grid-template-columns:minmax(0,1.1fr) minmax(0,1fr);
  gap:16px;
}

body.page-admin .grid{
  display:grid;
  grid-template-columns:minmax(0,3fr) minmax(0,2fr);
  gap:16px;
}

@media (max-width:900px){
  body.page-index .grid{grid-template-columns:1fr;}
}

@media (max-width:720px){
  body.page-admin .grid{grid-template-columns:1fr;}
}

/* ========= FORMULARIOS Y CAMPOS ========= */

label{
  display:block;
  font-size:11px;
  margin-bottom:4px;
  opacity:.9;
}

input,
select,
textarea{
  width:100%;
  border-radius:12px;
  border:1px solid rgba(51,65,85,0.9);
  background:rgba(15,23,42,0.96);
  padding:7px 10px;
  color:#e5e7eb;
  font-size:13px;
  outline:none;
}

input:focus,
select:focus,
textarea:focus{
  border-color:var(--accent);
  box-shadow:0 0 0 1px rgba(56,189,248,0.7);
}

input[type="file"]{
  padding:6px 8px;
}

input[type="time"]{
  font-variant-numeric:tabular-nums;
}

.field{margin-bottom:10px;}

.tiny{
  font-size:10px;
  opacity:.65;
}

/* ========= BOTONES ========= */

button,
.btn{
  border-radius:999px;
  border:none;
  padding:7px 16px;
  font-size:13px;
  font-weight:500;
  cursor:pointer;
  background:#0f172a;
  color:#e5e7eb;
}

button.primary,
.btn.primary{
  background:linear-gradient(135deg,var(--accent),var(--accent2));
  color:#020617;
  box-shadow:0 12px 30px rgba(56,189,248,0.55);
}

button[disabled],
.btn[disabled]{
  opacity:.55;
  cursor:default;
  box-shadow:none;
}

/* ========= ESTADOS ========= */

.status{
  font-size:11px;
  margin-top:6px;
  min-height:14px;
}
.status.ok{color:var(--ok);}
.status.err{color:var(--err);}

/* ========= PILLS (index + admin) ========= */

.pill{
  display:inline-flex;
  align-items:center;
  gap:6px;
  border-radius:999px;
  padding:3px 10px;
  font-size:10px;
  background:rgba(15,23,42,0.95);
  border:1px solid rgba(148,163,184,0.5);
  margin-bottom:10px;
}
.pill-dot{
  width:7px;
  height:7px;
  border-radius:999px;
  background:radial-gradient(circle,#22c55e,#16a34a);
  box-shadow:0 0 8px rgba(34,197,94,0.8);
}

/* ========= VIDEO (index + admin) ========= */

body:not(.page-screen) video{
  width:100%;
  max-height:260px;
  border-radius:18px;
  border:1px solid rgba(30,64,175,0.75);
  background:#000;
  object-fit:contain;
}

/* ========= PASOS (index) ========= */

.steps{
  display:flex;
  gap:8px;
  margin-bottom:12px;
  font-size:11px;
}
.step-pill{
  flex:1;
  padding:5px 10px;
  border-radius:999px;
  border:1px solid rgba(51,65,85,0.9);
  display:flex;
  align-items:center;
  justify-content:space-between;
  background:rgba(15,23,42,0.9);
  opacity:.6;
}
.step-pill.active{
  border-color:var(--accent);
  background:linear-gradient(135deg,rgba(56,189,248,0.12),rgba(168,85,247,0.18));
  opacity:1;
}
.step-pill span:nth-child(1){font-weight:500;}
.step-pill span:nth-child(2){font-size:10px;opacity:.8;}

.step-panel{display:none;}
.step-panel.active{display:block;}

.actions{
  margin-top:10px;
  display:flex;
  justify-content:space-between;
  gap:8px;
  flex-wrap:wrap;
}

/* ========= SLOTS (index) ========= */

.slots-header{
  display:flex;
  justify-content:space-between;
  align-items:center;
  margin-bottom:6px;
  gap:8px;
}
.slots-controls{
  display:flex;
  gap:6px;
  align-items:center;
  flex-wrap:wrap;
  font-size:11px;
}
.slots-controls select{
  width:auto;
  padding:4px 8px;
  font-size:11px;
  border-radius:999px;
}
.slots-grid{
  border-radius:18px;
  border:1px solid rgba(51,65,85,0.9);
  max-height:260px;
  overflow:auto;
  padding:6px;
  background:radial-gradient(circle at top,#020617,#020617);
  font-size:11px;
}
.slot-row{
  display:flex;
  align-items:center;
  gap:4px;
  margin-bottom:2px;
}
.slot-minute-label{
  width:46px;
  text-align:right;
  opacity:.6;
  font-variant-numeric:tabular-nums;
}
.slot{
  border-radius:999px;
  border:1px solid rgba(51,65,85,0.9);
  background:rgba(15,23,42,0.96);
  padding:3px 8px;
  font-size:10px;
  cursor:pointer;
  min-width:40px;
}
.slot.free{color:#e5e7eb;}
.slot.busy{
  background:rgba(127,29,29,0.9);
  border-color:rgba(248,113,113,0.9);
  color:#fee2e2;
  cursor:not-allowed;
}
.slot.past{
  opacity:.35;
  cursor:not-allowed;
}
.slot.selected{
  background:rgba(22,163,74,0.9);
  border-color:#4ade80;
  color:#022c22;
}
.summary{
  font-size:11px;
  opacity:.85;
  margin-top:4px;
}

/* ========= BOTONERA ADMIN ========= */

.btn-row{
  margin-top:8px;
  display:flex;
  gap:8px;
  justify-content:flex-end;
  align-items:center;
}

/* ========= PLAYER (screen.html) ========= */

.wrap{
  position:relative;
  width:100%;
  height:100vh;
  overflow:hidden;
  background:#000;
}

/* Video a pantalla completa sólo en la página de pantalla */
body.page-screen video{
  width:100%;
  height:100%;
  object-fit:cover;
  background:#000;
  border:none;
  border-radius:0;
}

.hud-top{
  position:absolute;
  top:10px;
  left:10px;
  right:10px;
  display:flex;
  justify-content:space-between;
  align-items:center;
  pointer-events:none;
  font-size:11px;
}
.chip{
  pointer-events:auto;
  background:var(--overlay);
  padding:4px 10px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,0.6);
  display:flex;
  align-items:center;
  gap:6px;
}
.dot{
  width:7px;
  height:7px;
  border-radius:999px;
  background:radial-gradient(circle,#22c55e,#16a34a);
  box-shadow:0 0 8px rgba(34,197,94,0.9);
}
.config input{
  padding:4px 8px;
  border-radius:999px;
  border:1px solid rgba(148,163,184,0.6);
  background:rgba(15,23,42,0.9);
  color:#e5e7eb;
  font-size:11px;
}
.config button{
  border-radius:999px;
  border:none;
  padding:4px 10px;
  font-size:11px;
  cursor:pointer;
  background:linear-gradient(135deg,#38bdf8,#a855f7);
  color:#020617;
}
.countdown{
  position:absolute;
  left:50%;
  top:50%;
  transform:translate(-50%,-50%);
  padding:14px 18px;
  border-radius:999px;
  background:var(--overlay);
  border:1px solid rgba(148,163,184,0.6);
  font-size:18px;
  display:none;
}
.countdown span{
  font-variant-numeric:tabular-nums;
  font-weight:600;
}
.bottom{
  position:absolute;
  bottom:10px;
  left:10px;
  right:10px;
  display:flex;
  justify-content:space-between;
  font-size:11px;
  pointer-events:none;
}
.status-line{
  opacity:.85;
}
